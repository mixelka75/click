# Changelog - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –∫–∞–Ω–∞–ª–æ–≤

## –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### ‚úÖ –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–Ω–∞–ª–æ–≤ —á–µ—Ä–µ–∑ .env

–¢–µ–ø–µ—Ä—å –≤—Å–µ Telegram –∫–∞–Ω–∞–ª—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env` —Ñ–∞–π–ª–µ.

### üìù –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

#### 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**config/settings.py**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∫–∞–Ω–∞–ª–æ–≤ —Ä–µ–∑—é–º–µ (8 –Ω–æ–≤—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã descriptions –¥–ª—è –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω—ã –∫–∞–Ω–∞–ª—ã –≤–∞–∫–∞–Ω—Å–∏–π –∏ —Ä–µ–∑—é–º–µ

**backend/services/telegram_publisher.py**
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `get_channel_for_position()`
- ‚úÖ –£–¥–∞–ª–µ–Ω–∞ –ø–æ–º–µ—Ç–∫–∞ "Temporary" –¥–ª—è —Ä–µ–∑—é–º–µ
- ‚úÖ –¢–µ–ø–µ—Ä—å —Ä–µ–∑—é–º–µ –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã

**.env.example**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö –∫–∞–Ω–∞–ª–æ–≤ —Ä–µ–∑—é–º–µ
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω—ã –±–ª–æ–∫–∏ –¥–ª—è –≤–∞–∫–∞–Ω—Å–∏–π –∏ —Ä–µ–∑—é–º–µ

#### 2. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**SETUP.md**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –∫–∞–Ω–∞–ª–æ–≤"
- ‚úÖ –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–∞–Ω–∞–ª–æ–≤
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–±–æ—Ç–µ —Å private –∫–∞–Ω–∞–ª–∞–º–∏

**TESTING.md** (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- ‚úÖ –†–µ—à–µ–Ω–∏–µ —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**CHANNELS_QUICK_SETUP.md** (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞ –Ω–∞ 3 —à–∞–≥–∞
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ Troubleshooting

#### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã

**scripts/setup_test_channels.sh** (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–º–µ–Ω–∞ –≤—Å–µ—Ö –∫–∞–Ω–∞–ª–æ–≤ –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã–π
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –∫–∞–Ω–∞–ª–æ–≤
- ‚úÖ –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏

**scripts/restore_prod_channels.sh** (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)
- ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∫—à–Ω –∫–∞–Ω–∞–ª–æ–≤ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ø–∏—Å–∫–∞ –∫–∞–Ω–∞–ª–æ–≤

**scripts/README.md** (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–∫—Ä–∏–ø—Ç–æ–≤
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ Troubleshooting

### üéØ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

1. **–û—Ç–¥–µ–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã –¥–ª—è —Ä–µ–∑—é–º–µ**
   - –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Ä–µ–∑—é–º–µ
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ –∂–µ –∫–∞–Ω–∞–ª—ã, —á—Ç–æ –∏ –¥–ª—è –≤–∞–∫–∞–Ω—Å–∏–π

2. **–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**
   - –û–¥–∏–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –∫–∞–Ω–∞–ª –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
   - –ò–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - –ü—Ä–æ—Å—Ç–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ç–µ—Å—Ç/–ø—Ä–æ–¥

3. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**
   - –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ö–∞–Ω–∞–ª—ã –¥–ª—è –≤–∞–∫–∞–Ω—Å–∏–π (8 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö)

```env
CHANNEL_VACANCIES_BARMEN=@horeca_msk1
CHANNEL_VACANCIES_WAITERS=@horeca_msk2
CHANNEL_VACANCIES_COOKS=@horeca_povara1
CHANNEL_VACANCIES_BARISTA=@horeca_barista
CHANNEL_VACANCIES_ADMIN=@horeca_admin_man
CHANNEL_VACANCIES_SUPPORT=@horeca5
CHANNEL_VACANCIES_OTHER=@horeca4
CHANNEL_VACANCIES_GENERAL=@HoReCaMBA
```

### –ö–∞–Ω–∞–ª—ã –¥–ª—è —Ä–µ–∑—é–º–µ (8 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö)

```env
CHANNEL_RESUMES_BARMEN=@horeca_msk1
CHANNEL_RESUMES_WAITERS=@horeca_msk2
CHANNEL_RESUMES_COOKS=@horeca_povara1
CHANNEL_RESUMES_BARISTA=@horeca_barista
CHANNEL_RESUMES_ADMIN=@horeca_admin_man
CHANNEL_RESUMES_SUPPORT=@horeca5
CHANNEL_RESUMES_OTHER=@horeca4
CHANNEL_RESUMES_GENERAL=@HoReCaMBA
```

**–ò—Ç–æ–≥–æ:** 16 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏—è–º–∏

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –∫–∞–Ω–∞–ª –≤ Telegram
# –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç
./scripts/setup_test_channels.sh @my_test_channel

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
docker-compose restart

# –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ!
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É—é

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ .env.example
cp .env.example .env

# –û—Ç–∫—Ä–æ–π—Ç–µ .env
nano .env

# –ó–∞–º–µ–Ω–∏—Ç–µ –≤—Å–µ –∫–∞–Ω–∞–ª—ã –Ω–∞ –≤–∞—à —Ç–µ—Å—Ç–æ–≤—ã–π
# –ù–∞–ø—Ä–∏–º–µ—Ä: @my_test_channel

# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
docker-compose restart
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ sed (Linux/Mac)

```bash
# –ó–∞–º–µ–Ω–∏—Ç–µ YOUR_CHANNEL –Ω–∞ –≤–∞—à –∫–∞–Ω–∞–ª
sed -i 's/@horeca_[a-z0-9_]*/@YOUR_CHANNEL/g' .env
sed -i 's/@HoReCaMBA/@YOUR_CHANNEL/g' .env

docker-compose restart
```

## –í–æ–∑–≤—Ä–∞—Ç –∫ –ø—Ä–æ–¥–∞–∫—à–Ω

```bash
# –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
./scripts/restore_prod_channels.sh
docker-compose restart

# –ò–ª–∏ –∏–∑ –±—ç–∫–∞–ø–∞
cp .env.backup.YYYYMMDD_HHMMSS .env
docker-compose restart
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

### 1. –õ–æ–≥–∏ backend

```bash
docker-compose logs backend | grep -i "publish"

# –£—Å–ø–µ—à–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è:
# Published vacancy 507f1f77bcf86cd799439011 to channel @my_test_channel

# –û—à–∏–±–∫–∞:
# Failed to publish vacancy 507f1f77bcf86cd799439011: Chat not found
```

### 2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
docker exec -it click-mongodb-1 mongosh click_db

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
db.publications.find().sort({created_at: -1}).limit(5).pretty()

# –ù–∞–π—Ç–∏ –Ω–µ—É–¥–∞—á–Ω—ã–µ
db.publications.find({is_published: false}).pretty()
```

### 3. Telegram –∫–∞–Ω–∞–ª

–ü—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–æ–π—Ç–µ –∫–∞–Ω–∞–ª –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Å—Ç—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è!

## –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. ‚úÖ –ë–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–∞–Ω–∞–ª –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä?
2. ‚úÖ –£ –±–æ—Ç–∞ –ø—Ä–∞–≤–∞ –Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—é?
3. ‚úÖ Username –∫–∞–Ω–∞–ª–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (—Å @)?
4. ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–æ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è .env?

### –û—à–∏–±–∫–∞ "Chat not found"

- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π username –∫–∞–Ω–∞–ª–∞
- –ë–æ—Ç –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–∞–Ω–∞–ª
- –î–ª—è private –∫–∞–Ω–∞–ª–æ–≤ –Ω—É–∂–µ–Ω chat_id, –∞ –Ω–µ @username

### –û—à–∏–±–∫–∞ "Need administrator rights"

- –ë–æ—Ç –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –∫–∞–Ω–∞–ª–∞
- –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–Ω–∞–ª–∞ ‚Üí Administrators

### –û—à–∏–±–∫–∞ "Have no rights to send messages"

- –£ –±–æ—Ç–∞ –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—é
- –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏ –≤–∫–ª—é—á–∏—Ç–µ "Post Messages"

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–§–æ—Ä–º–∞—Ç public –∫–∞–Ω–∞–ª–æ–≤:** `@username`
- **–§–æ—Ä–º–∞—Ç private –∫–∞–Ω–∞–ª–æ–≤:** `-1001234567890`
- **–ü–æ–ª—É—á–∏—Ç—å chat_id:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ @getmyid_bot
- **–ü—Ä–∞–≤–∞ –±–æ—Ç–∞:** Post Messages (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ), Edit/Delete Messages (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## –°–º. —Ç–∞–∫–∂–µ

- [CHANNELS_QUICK_SETUP.md](CHANNELS_QUICK_SETUP.md) - –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (3 —à–∞–≥–∞)
- [TESTING.md](TESTING.md) - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [SETUP.md](SETUP.md) - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- [scripts/README.md](scripts/README.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤

---

**–í–µ—Ä—Å–∏—è:** 1.0.0
**–î–∞—Ç–∞:** 2025-01-04
**–ê–≤—Ç–æ—Ä:** Claude Code
